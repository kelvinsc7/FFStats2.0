{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\Projetos\\\\FFStats2.0\\\\Front\\\\FFStats-App\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/jogador.service\";\nimport * as i2 from \"ngx-bootstrap/modal\";\nimport * as i3 from \"ngx-toastr\";\nimport * as i4 from \"ngx-spinner\";\nimport * as i5 from \"src/app/Services/estatistica.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/forms\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"ngx-bootstrap/tooltip\";\n\nfunction JogadoresListaComponent_tbody_35_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\", 18);\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_tbody_35_tr_1_Template_tr_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.detalheJogador(item_r5.id);\n    });\n    i0.ɵɵelementStart(1, \"th\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"titlecase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"th\", 14);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 14);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\");\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"th\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 14);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"th\")(20, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_tbody_35_tr_1_Template_button_click_20_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const item_r5 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n\n      const _r2 = i0.ɵɵreference(38);\n\n      return ctx_r8.openModal($event, _r2, item_r5.id);\n    });\n    i0.ɵɵelement(21, \"i\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 8, item_r5.jogadorNome));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 10, item_r5.jogadorNick));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r5.idJogo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.line.lineNome);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.getQuantidadePartidasUnicas(item_r5.partidasJogadores));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.totalKill[item_r5.id]);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.totalKill[item_r5.id] / item_r5.partidasJogadores.length);\n  }\n}\n\nfunction JogadoresListaComponent_tbody_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tbody\");\n    i0.ɵɵtemplate(1, JogadoresListaComponent_tbody_35_tr_1_Template, 22, 12, \"tr\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.jogadoresFiltrados);\n  }\n}\n\nfunction JogadoresListaComponent_tfoot_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tfoot\")(1, \"tr\")(2, \"td\", 21)(3, \"h4\");\n    i0.ɵɵtext(4, \"Nenhum Jogador encontrado!\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\n\nfunction JogadoresListaComponent_ng_template_37_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"p\");\n    i0.ɵɵtext(2, \"Deseja realmente efetuar a exclus\\u00E3o?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_ng_template_37_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.confirm();\n    });\n    i0.ɵɵtext(4, \"Sim\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_ng_template_37_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.decline();\n    });\n    i0.ɵɵtext(6, \"N\\u00E3o\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport class JogadoresListaComponent {\n  constructor(jogadorService, modalService, toastr, spinner, estatisticaService, router) {\n    this.jogadorService = jogadorService;\n    this.modalService = modalService;\n    this.toastr = toastr;\n    this.spinner = spinner;\n    this.estatisticaService = estatisticaService;\n    this.router = router;\n    this.jogadores = [];\n    this.jogadoresFiltrados = [];\n    this._filtroLista = '';\n    this.estatistica = [];\n    this.totalKill = [];\n    this.JogadorId = 0;\n  }\n\n  get filtroLista() {\n    return this._filtroLista;\n  }\n\n  set filtroLista(value) {\n    this._filtroLista = value;\n    this.jogadoresFiltrados = this.filtroLista ? this.filtrarJogador(this.filtroLista) : this.jogadores;\n  }\n\n  filtrarJogador(filtrarPor) {\n    filtrarPor = filtrarPor.toLowerCase();\n    return this.jogadores.filter(jogador => jogador.jogadorNome.toLowerCase().indexOf(filtrarPor) !== -1 || jogador.jogadorNick.toLowerCase().indexOf(filtrarPor) !== -1);\n  }\n\n  ngOnInit() {\n    this.spinner.show();\n    this.getJogadores(); //this.getEstatisticas();\n  }\n\n  getJogadores() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      try {\n        _this.jogadores = yield _this.jogadorService.getJogadores().toPromise(); // Loop sobre os jogadores\n\n        for (const jogador of _this.jogadores) {\n          jogador.estatisticas = yield _this.estatisticaService.getEstatisticasByJogadorId(jogador.id).toPromise();\n        }\n\n        _this.jogadoresFiltrados = _this.jogadores;\n      } catch (error) {\n        _this.spinner.hide();\n\n        _this.toastr.error(\"Erro ao carregar Jogadores\", \"Erro!\");\n      } finally {\n        _this.spinner.hide();\n      }\n    })();\n  } // public getJogadores(): void {\n  //   this.jogadorService.getJogadores().subscribe({\n  //     next: (_jogadores: Jogador[]) => {\n  //       this.jogadores = _jogadores;\n  //       // Loop sobre os jogadores\n  //       for (const jogador of this.jogadores) {\n  //         this.estatisticaService.getEstatisticasByJogadorId(jogador.id).subscribe({\n  //           next: (estatisticas: Estatistica[]) => {\n  //             jogador.estatisticas = estatisticas;\n  //           },\n  //           error: (error: any) => {\n  //             this.toastr.error(\"Erro ao carregar estatísticas do jogador\", \"Erro!\");\n  //           }\n  //         });\n  //       }\n  //       this.jogadoresFiltrados = this.jogadores;\n  //     },\n  //     error: (error: any) => {\n  //       this.spinner.hide();\n  //       this.toastr.error(\"Erro ao carregar Jogadores\", \"Erro!\");\n  //     },\n  //     complete: () => this.spinner.hide()\n  //   });\n  // }\n  // public getEstatisticas(): void{\n  //   this.estatisticaService.getEstatisticasByJogadorId().subscribe({\n  //     next: (_estatisticas: Estatistica[] ) => {\n  //       this.estatistica = _estatisticas;\n  //     },\n  //     error: (error: any)=> {\n  //       this.spinner.hide(),\n  //       this.toastr.error(\"Erro ao carregar Estatisticaes\",\"Erro!\")\n  //     },\n  //     complete: () => this.spinner.hide()\n  //   })\n  // }\n\n\n  carregaKIll() {\n    for (let i = 0; i <= this.estatistica.length; i++) {\n      this.totalKill[i] = this.estatistica.filter(e => e.jogadorId == i).reduce((a, b) => a + b.kill, 0);\n    }\n  }\n\n  openModal(event, template, id) {\n    event.stopPropagation();\n    this.JogadorId = id;\n    this.modalRef = this.modalService.show(template, {\n      class: 'modal-sm'\n    });\n  }\n\n  confirm() {\n    var _a;\n\n    (_a = this.modalRef) === null || _a === void 0 ? void 0 : _a.hide();\n    this.spinner.show();\n    this.jogadorService.deleteJogador(this.JogadorId).subscribe(result => {\n      console.log(result);\n      this.toastr.success('Partida excluida com sucesso!', 'Sucesso!');\n      this.spinner.hide();\n      this.getJogadores();\n    }, error => {\n      //console.error(error);\n      this.toastr.error('Erro ao tentar deletar o Evento', 'Erro:');\n      this.spinner.hide();\n    }, () => this.spinner.hide());\n  }\n\n  decline() {\n    var _a;\n\n    (_a = this.modalRef) === null || _a === void 0 ? void 0 : _a.hide();\n  }\n\n  detalheJogador(id) {\n    this.router.navigate([`jogadores/detalhes/${id}`]);\n  }\n\n  calculaKD(a, b) {\n    return b / a;\n  }\n\n}\n\nJogadoresListaComponent.ɵfac = function JogadoresListaComponent_Factory(t) {\n  return new (t || JogadoresListaComponent)(i0.ɵɵdirectiveInject(i1.JogadorService), i0.ɵɵdirectiveInject(i2.BsModalService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.EstatisticaService), i0.ɵɵdirectiveInject(i6.Router));\n};\n\nJogadoresListaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: JogadoresListaComponent,\n  selectors: [[\"app-jogadores-lista\"]],\n  decls: 39,\n  vars: 3,\n  consts: [[1, \"card\", \"rounded\", \"shadow-sm\", \"p-3\"], [1, \"d-flex\"], [1, \"mr-5\"], [\"routerLink\", \"/jogadores/detalhes\", \"type\", \"button\", 1, \"btn\", \"btn-success\", \"d-flex\"], [1, \"fa\", \"fa-plus-circle\", \"my-1\"], [1, \"ml-1\", \"d-none\", \"d-sm-block\"], [1, \"flex-fill\"], [1, \"input-group\", \"mb-2\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [\"type\", \"text\", \"placeholder\", \"Filtrar por Nome ou Nick\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mt-3\"], [1, \"table\", \"table-striped\", \"table-light\", \"text-center\", \"table-hover\"], [1, \"thead-dark\"], [1, \"d-none\", \"d-md-table-cell\"], [4, \"ngIf\"], [\"template\", \"\"], [\"style\", \"cursor: pointer;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [\"type\", \"button\", \"tooltip\", \"Excluir\", 1, \"btn\", \"btn-danger\", \"btn-md\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [\"colspan\", \"9\", 1, \"text-center\"], [1, \"modal-body\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"mr-3\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function JogadoresListaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\n      i0.ɵɵelement(4, \"i\", 4);\n      i0.ɵɵelementStart(5, \"b\", 5);\n      i0.ɵɵtext(6, \"Novo Jogador\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9);\n      i0.ɵɵtext(11, \"Filtro: \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function JogadoresListaComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.filtroLista = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(13, \"div\", 11)(14, \"table\", 12)(15, \"thead\", 13)(16, \"tr\")(17, \"th\", 14);\n      i0.ɵɵtext(18, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\");\n      i0.ɵɵtext(20, \"Nome\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\");\n      i0.ɵɵtext(22, \"Nick\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\", 14);\n      i0.ɵɵtext(24, \"Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\", 14);\n      i0.ɵɵtext(26, \"Line\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"th\");\n      i0.ɵɵtext(28, \"Qtde. Partidas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"th\");\n      i0.ɵɵtext(30, \"Kills\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"th\", 14);\n      i0.ɵɵtext(32, \"KD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"th\");\n      i0.ɵɵtext(34, \"Op\\u00E7\\u00F5es\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(35, JogadoresListaComponent_tbody_35_Template, 2, 1, \"tbody\", 15);\n      i0.ɵɵtemplate(36, JogadoresListaComponent_tfoot_36_Template, 5, 0, \"tfoot\", 15);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(37, JogadoresListaComponent_ng_template_37_Template, 7, 0, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.filtroLista);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngIf\", ctx.jogadores && ctx.jogadores.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.jogadoresFiltrados.length);\n    }\n  },\n  directives: [i6.RouterLinkWithHref, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i8.NgIf, i8.NgForOf, i9.TooltipDirective],\n  pipes: [i8.TitleCasePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqb2dhZG9yZXMtbGlzdGEuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["D:/Projetos/FFStats2.0/Front/FFStats-App/src/app/Components/Jogadores/jogadores-lista/jogadores-lista.component.ts"],"names":["i0","i1","i2","i3","i4","i5","i6","i7","i8","i9","JogadoresListaComponent_tbody_35_tr_1_Template","rf","ctx","_r7","ɵɵgetCurrentView","ɵɵelementStart","ɵɵlistener","JogadoresListaComponent_tbody_35_tr_1_Template_tr_click_0_listener","restoredCtx","ɵɵrestoreView","item_r5","$implicit","ctx_r6","ɵɵnextContext","detalheJogador","id","ɵɵtext","ɵɵelementEnd","ɵɵpipe","JogadoresListaComponent_tbody_35_tr_1_Template_button_click_20_listener","$event","ctx_r8","_r2","ɵɵreference","openModal","ɵɵelement","ctx_r4","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","jogadorNome","jogadorNick","idJogo","line","lineNome","getQuantidadePartidasUnicas","partidasJogadores","totalKill","length","JogadoresListaComponent_tbody_35_Template","ɵɵtemplate","ctx_r0","ɵɵproperty","jogadoresFiltrados","JogadoresListaComponent_tfoot_36_Template","JogadoresListaComponent_ng_template_37_Template","_r10","JogadoresListaComponent_ng_template_37_Template_button_click_3_listener","ctx_r9","confirm","JogadoresListaComponent_ng_template_37_Template_button_click_5_listener","ctx_r11","decline","JogadoresListaComponent","constructor","jogadorService","modalService","toastr","spinner","estatisticaService","router","jogadores","_filtroLista","estatistica","JogadorId","filtroLista","value","filtrarJogador","filtrarPor","toLowerCase","filter","jogador","indexOf","ngOnInit","show","getJogadores","toPromise","estatisticas","getEstatisticasByJogadorId","error","hide","carregaKIll","i","e","jogadorId","reduce","a","b","kill","event","template","stopPropagation","modalRef","class","_a","deleteJogador","subscribe","result","console","log","success","navigate","calculaKD","ɵfac","JogadoresListaComponent_Factory","t","ɵɵdirectiveInject","JogadorService","BsModalService","ToastrService","NgxSpinnerService","EstatisticaService","Router","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","JogadoresListaComponent_Template","JogadoresListaComponent_Template_input_ngModelChange_12_listener","ɵɵtemplateRefExtractor","directives","RouterLinkWithHref","DefaultValueAccessor","NgControlStatus","NgModel","NgIf","NgForOf","TooltipDirective","pipes","TitleCasePipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"src/app/Services/jogador.service\";\r\nimport * as i2 from \"ngx-bootstrap/modal\";\r\nimport * as i3 from \"ngx-toastr\";\r\nimport * as i4 from \"ngx-spinner\";\r\nimport * as i5 from \"src/app/Services/estatistica.service\";\r\nimport * as i6 from \"@angular/router\";\r\nimport * as i7 from \"@angular/forms\";\r\nimport * as i8 from \"@angular/common\";\r\nimport * as i9 from \"ngx-bootstrap/tooltip\";\r\nfunction JogadoresListaComponent_tbody_35_tr_1_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\", 18);\r\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_tbody_35_tr_1_Template_tr_click_0_listener() { const restoredCtx = i0.ɵɵrestoreView(_r7); const item_r5 = restoredCtx.$implicit; const ctx_r6 = i0.ɵɵnextContext(2); return ctx_r6.detalheJogador(item_r5.id); });\r\n    i0.ɵɵelementStart(1, \"th\", 14);\r\n    i0.ɵɵtext(2);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"th\");\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵpipe(5, \"titlecase\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(6, \"th\");\r\n    i0.ɵɵtext(7);\r\n    i0.ɵɵpipe(8, \"titlecase\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(9, \"th\", 14);\r\n    i0.ɵɵtext(10);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(11, \"th\", 14);\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(13, \"th\");\r\n    i0.ɵɵtext(14);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(15, \"th\");\r\n    i0.ɵɵtext(16);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(17, \"th\", 14);\r\n    i0.ɵɵtext(18);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(19, \"th\")(20, \"button\", 19);\r\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_tbody_35_tr_1_Template_button_click_20_listener($event) { const restoredCtx = i0.ɵɵrestoreView(_r7); const item_r5 = restoredCtx.$implicit; const ctx_r8 = i0.ɵɵnextContext(2); const _r2 = i0.ɵɵreference(38); return ctx_r8.openModal($event, _r2, item_r5.id); });\r\n    i0.ɵɵelement(21, \"i\", 20);\r\n    i0.ɵɵelementEnd()()();\r\n} if (rf & 2) {\r\n    const item_r5 = ctx.$implicit;\r\n    const ctx_r4 = i0.ɵɵnextContext(2);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r5.id);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 8, item_r5.jogadorNome));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 10, item_r5.jogadorNick));\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(item_r5.idJogo);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(item_r5.line.lineNome);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r4.getQuantidadePartidasUnicas(item_r5.partidasJogadores));\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r4.totalKill[item_r5.id]);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵtextInterpolate(ctx_r4.totalKill[item_r5.id] / item_r5.partidasJogadores.length);\r\n} }\r\nfunction JogadoresListaComponent_tbody_35_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tbody\");\r\n    i0.ɵɵtemplate(1, JogadoresListaComponent_tbody_35_tr_1_Template, 22, 12, \"tr\", 17);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const ctx_r0 = i0.ɵɵnextContext();\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.jogadoresFiltrados);\r\n} }\r\nfunction JogadoresListaComponent_tfoot_36_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"tfoot\")(1, \"tr\")(2, \"td\", 21)(3, \"h4\");\r\n    i0.ɵɵtext(4, \"Nenhum Jogador encontrado!\");\r\n    i0.ɵɵelementEnd()()()();\r\n} }\r\nfunction JogadoresListaComponent_ng_template_37_Template(rf, ctx) { if (rf & 1) {\r\n    const _r10 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"p\");\r\n    i0.ɵɵtext(2, \"Deseja realmente efetuar a exclus\\u00E3o?\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"button\", 23);\r\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_ng_template_37_Template_button_click_3_listener() { i0.ɵɵrestoreView(_r10); const ctx_r9 = i0.ɵɵnextContext(); return ctx_r9.confirm(); });\r\n    i0.ɵɵtext(4, \"Sim\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"button\", 24);\r\n    i0.ɵɵlistener(\"click\", function JogadoresListaComponent_ng_template_37_Template_button_click_5_listener() { i0.ɵɵrestoreView(_r10); const ctx_r11 = i0.ɵɵnextContext(); return ctx_r11.decline(); });\r\n    i0.ɵɵtext(6, \"N\\u00E3o\");\r\n    i0.ɵɵelementEnd()();\r\n} }\r\nexport class JogadoresListaComponent {\r\n    constructor(jogadorService, modalService, toastr, spinner, estatisticaService, router) {\r\n        this.jogadorService = jogadorService;\r\n        this.modalService = modalService;\r\n        this.toastr = toastr;\r\n        this.spinner = spinner;\r\n        this.estatisticaService = estatisticaService;\r\n        this.router = router;\r\n        this.jogadores = [];\r\n        this.jogadoresFiltrados = [];\r\n        this._filtroLista = '';\r\n        this.estatistica = [];\r\n        this.totalKill = [];\r\n        this.JogadorId = 0;\r\n    }\r\n    get filtroLista() {\r\n        return this._filtroLista;\r\n    }\r\n    set filtroLista(value) {\r\n        this._filtroLista = value;\r\n        this.jogadoresFiltrados = this.filtroLista ? this.filtrarJogador(this.filtroLista) : this.jogadores;\r\n    }\r\n    filtrarJogador(filtrarPor) {\r\n        filtrarPor = filtrarPor.toLowerCase();\r\n        return this.jogadores.filter((jogador) => jogador.jogadorNome.toLowerCase().indexOf(filtrarPor) !== -1 ||\r\n            jogador.jogadorNick.toLowerCase().indexOf(filtrarPor) !== -1);\r\n    }\r\n    ngOnInit() {\r\n        this.spinner.show();\r\n        this.getJogadores();\r\n        //this.getEstatisticas();\r\n    }\r\n    async getJogadores() {\r\n        try {\r\n            this.jogadores = await this.jogadorService.getJogadores().toPromise();\r\n            // Loop sobre os jogadores\r\n            for (const jogador of this.jogadores) {\r\n                jogador.estatisticas = await this.estatisticaService.getEstatisticasByJogadorId(jogador.id).toPromise();\r\n            }\r\n            this.jogadoresFiltrados = this.jogadores;\r\n        }\r\n        catch (error) {\r\n            this.spinner.hide();\r\n            this.toastr.error(\"Erro ao carregar Jogadores\", \"Erro!\");\r\n        }\r\n        finally {\r\n            this.spinner.hide();\r\n        }\r\n    }\r\n    // public getJogadores(): void {\r\n    //   this.jogadorService.getJogadores().subscribe({\r\n    //     next: (_jogadores: Jogador[]) => {\r\n    //       this.jogadores = _jogadores;\r\n    //       // Loop sobre os jogadores\r\n    //       for (const jogador of this.jogadores) {\r\n    //         this.estatisticaService.getEstatisticasByJogadorId(jogador.id).subscribe({\r\n    //           next: (estatisticas: Estatistica[]) => {\r\n    //             jogador.estatisticas = estatisticas;\r\n    //           },\r\n    //           error: (error: any) => {\r\n    //             this.toastr.error(\"Erro ao carregar estatísticas do jogador\", \"Erro!\");\r\n    //           }\r\n    //         });\r\n    //       }\r\n    //       this.jogadoresFiltrados = this.jogadores;\r\n    //     },\r\n    //     error: (error: any) => {\r\n    //       this.spinner.hide();\r\n    //       this.toastr.error(\"Erro ao carregar Jogadores\", \"Erro!\");\r\n    //     },\r\n    //     complete: () => this.spinner.hide()\r\n    //   });\r\n    // }\r\n    // public getEstatisticas(): void{\r\n    //   this.estatisticaService.getEstatisticasByJogadorId().subscribe({\r\n    //     next: (_estatisticas: Estatistica[] ) => {\r\n    //       this.estatistica = _estatisticas;\r\n    //     },\r\n    //     error: (error: any)=> {\r\n    //       this.spinner.hide(),\r\n    //       this.toastr.error(\"Erro ao carregar Estatisticaes\",\"Erro!\")\r\n    //     },\r\n    //     complete: () => this.spinner.hide()\r\n    //   })\r\n    // }\r\n    carregaKIll() {\r\n        for (let i = 0; i <= this.estatistica.length; i++) {\r\n            this.totalKill[i] = this.estatistica.filter(e => e.jogadorId == i).reduce((a, b) => a + b.kill, 0);\r\n        }\r\n    }\r\n    openModal(event, template, id) {\r\n        event.stopPropagation();\r\n        this.JogadorId = id;\r\n        this.modalRef = this.modalService.show(template, { class: 'modal-sm' });\r\n    }\r\n    confirm() {\r\n        var _a;\r\n        (_a = this.modalRef) === null || _a === void 0 ? void 0 : _a.hide();\r\n        this.spinner.show();\r\n        this.jogadorService.deleteJogador(this.JogadorId).subscribe((result) => {\r\n            console.log(result);\r\n            this.toastr.success('Partida excluida com sucesso!', 'Sucesso!');\r\n            this.spinner.hide();\r\n            this.getJogadores();\r\n        }, (error) => {\r\n            //console.error(error);\r\n            this.toastr.error('Erro ao tentar deletar o Evento', 'Erro:');\r\n            this.spinner.hide();\r\n        }, () => this.spinner.hide());\r\n    }\r\n    decline() {\r\n        var _a;\r\n        (_a = this.modalRef) === null || _a === void 0 ? void 0 : _a.hide();\r\n    }\r\n    detalheJogador(id) {\r\n        this.router.navigate([`jogadores/detalhes/${id}`]);\r\n    }\r\n    calculaKD(a, b) {\r\n        return b / a;\r\n    }\r\n}\r\nJogadoresListaComponent.ɵfac = function JogadoresListaComponent_Factory(t) { return new (t || JogadoresListaComponent)(i0.ɵɵdirectiveInject(i1.JogadorService), i0.ɵɵdirectiveInject(i2.BsModalService), i0.ɵɵdirectiveInject(i3.ToastrService), i0.ɵɵdirectiveInject(i4.NgxSpinnerService), i0.ɵɵdirectiveInject(i5.EstatisticaService), i0.ɵɵdirectiveInject(i6.Router)); };\r\nJogadoresListaComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: JogadoresListaComponent, selectors: [[\"app-jogadores-lista\"]], decls: 39, vars: 3, consts: [[1, \"card\", \"rounded\", \"shadow-sm\", \"p-3\"], [1, \"d-flex\"], [1, \"mr-5\"], [\"routerLink\", \"/jogadores/detalhes\", \"type\", \"button\", 1, \"btn\", \"btn-success\", \"d-flex\"], [1, \"fa\", \"fa-plus-circle\", \"my-1\"], [1, \"ml-1\", \"d-none\", \"d-sm-block\"], [1, \"flex-fill\"], [1, \"input-group\", \"mb-2\"], [1, \"input-group-prepend\"], [1, \"input-group-text\"], [\"type\", \"text\", \"placeholder\", \"Filtrar por Nome ou Nick\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"mt-3\"], [1, \"table\", \"table-striped\", \"table-light\", \"text-center\", \"table-hover\"], [1, \"thead-dark\"], [1, \"d-none\", \"d-md-table-cell\"], [4, \"ngIf\"], [\"template\", \"\"], [\"style\", \"cursor: pointer;\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [\"type\", \"button\", \"tooltip\", \"Excluir\", 1, \"btn\", \"btn-danger\", \"btn-md\", 3, \"click\"], [1, \"fa\", \"fa-trash\"], [\"colspan\", \"9\", 1, \"text-center\"], [1, \"modal-body\", \"text-center\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"mr-3\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]], template: function JogadoresListaComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"a\", 3);\r\n        i0.ɵɵelement(4, \"i\", 4);\r\n        i0.ɵɵelementStart(5, \"b\", 5);\r\n        i0.ɵɵtext(6, \"Novo Jogador\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵelementStart(7, \"div\", 6)(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9);\r\n        i0.ɵɵtext(11, \"Filtro: \");\r\n        i0.ɵɵelementEnd()();\r\n        i0.ɵɵelementStart(12, \"input\", 10);\r\n        i0.ɵɵlistener(\"ngModelChange\", function JogadoresListaComponent_Template_input_ngModelChange_12_listener($event) { return ctx.filtroLista = $event; });\r\n        i0.ɵɵelementEnd()()()();\r\n        i0.ɵɵelementStart(13, \"div\", 11)(14, \"table\", 12)(15, \"thead\", 13)(16, \"tr\")(17, \"th\", 14);\r\n        i0.ɵɵtext(18, \"#\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(19, \"th\");\r\n        i0.ɵɵtext(20, \"Nome\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(21, \"th\");\r\n        i0.ɵɵtext(22, \"Nick\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(23, \"th\", 14);\r\n        i0.ɵɵtext(24, \"Id\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(25, \"th\", 14);\r\n        i0.ɵɵtext(26, \"Line\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(27, \"th\");\r\n        i0.ɵɵtext(28, \"Qtde. Partidas\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(29, \"th\");\r\n        i0.ɵɵtext(30, \"Kills\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(31, \"th\", 14);\r\n        i0.ɵɵtext(32, \"KD\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(33, \"th\");\r\n        i0.ɵɵtext(34, \"Op\\u00E7\\u00F5es\");\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵtemplate(35, JogadoresListaComponent_tbody_35_Template, 2, 1, \"tbody\", 15);\r\n        i0.ɵɵtemplate(36, JogadoresListaComponent_tfoot_36_Template, 5, 0, \"tfoot\", 15);\r\n        i0.ɵɵelementEnd()()();\r\n        i0.ɵɵtemplate(37, JogadoresListaComponent_ng_template_37_Template, 7, 0, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(12);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.filtroLista);\r\n        i0.ɵɵadvance(23);\r\n        i0.ɵɵproperty(\"ngIf\", ctx.jogadores && ctx.jogadores.length);\r\n        i0.ɵɵadvance(1);\r\n        i0.ɵɵproperty(\"ngIf\", !ctx.jogadoresFiltrados.length);\r\n    } }, directives: [i6.RouterLinkWithHref, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgModel, i8.NgIf, i8.NgForOf, i9.TooltipDirective], pipes: [i8.TitleCasePipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqb2dhZG9yZXMtbGlzdGEuY29tcG9uZW50LnNjc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}