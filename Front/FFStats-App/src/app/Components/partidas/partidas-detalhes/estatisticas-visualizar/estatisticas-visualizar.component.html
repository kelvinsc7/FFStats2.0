<div class="card rounded shadow-sm mt-4">
  <div class="p-3">
    <div class="d-flex border-bottom">
      <h2 class="mr-auto">
        Estatisticas
      </h2>
      <h2>
        <i class="fa-solid fa-chart-column"></i>
      </h2>
    </div>
    <div class=" row mt-2">
      <!-- <div class="col-md-2 text-left">
        <p>K/D/A</p>
      </div> -->
      <!-- <div *ngFor="let item of stats" class="row mt-1">
        <div  class="card ">
          <div class="card-body">
            <div class="col-md-2 text-left">
              <b>{{item.jogador.jogadorNick}}</b>
              <p>{{item.kill}}|{{item.morte}}|{{item.assistencia}}</p>
            </div>
          </div>
        </div>
      </div > -->
      <div class="d-flex flex-column gap-3">
        <div class="row align-items-center">
          <div class="col-1">

          </div>
          <div class="col-3">K / D / A</div>
          <div class="col-8 d-flex">
            <div class="text-center me-3 col-2"> Dano</div>
            <div class="text-center me-3 col-2">Derrubados</div>
            <div class="text-center me-3 col-2">Cura</div>
            <div class="text-center me-3 col-2">Levantados</div>
            <div class="text-center me-3 col-2">Ressucitou<div>
          </div>
        </div>
      </div>
    </div>
    <div *ngFor="let item of stats" class="container mt-2 card rounded">
      <!-- Container principal -->
      <div class="d-flex flex-column gap-3">
        <!-- Linha de jogador -->
        <div class="row align-items-center">
          <div class="col-1 align-items-end text-end" >
            <h4 class="fa-crown fa-solid" *ngIf="item.jogadorId === this.idMvp"></h4>
          </div>
          <!-- Informação do jogador -->
          <div class="col-3">
            <div>
              <strong>{{item.jogador.jogadorNick}}</strong>
            </div>
            <div>{{item.kill}} / {{item.morte}} / {{item.assistencia}}</div>
          </div>
          <!-- Estatísticas -->
          <div class="col-8 d-flex">
            <!-- DMG -->
            <div class="text-center me-3 col-2" [title]="item.porcentagem.percentDano.toFixed(2) + '%'">
              <div>{{item.dano}}</div>
              <div class="progress progress-dano">
                <div class="progress-bar progress-bar-dano" [ngStyle]="{ width: item.porcentagem.percentDano + '%' }"></div>
              </div>
            </div>
            
            <!-- Derrubados -->
            <div class="text-center me-3 col-2" [title]="item.porcentagem.percentDerrubado.toFixed(2) + '%'">
              <div>{{item.derrubado}}</div>
              <div class="progress progress-derrubado">
                <div class="progress-bar progress-bar-derrubado" [ngStyle]="{ width: item.porcentagem.percentDerrubado + '%' }"></div>
              </div>
            </div>
            
            <!-- Cura -->
            <div class="text-center me-3 col-2" [title]="item.porcentagem.percentCura.toFixed(2) + '%'">
              <div>{{item.cura}}</div>
              <div class="progress progress-cura">
                <div class="progress-bar progress-bar-cura" [ngStyle]="{ width: item.porcentagem.percentCura + '%' }"></div>
              </div>
            </div>
            
            <!-- Levantados -->
            <div class="text-center me-3 col-2" [title]="item.porcentagem.percentLevantados.toFixed(2) + '%'">
              <div>{{item.levantados}}</div>
              <div class="progress progress-levantados">
                <div class="progress-bar progress-bar-levantados" [ngStyle]="{ width: item.porcentagem.percentLevantados + '%' }"></div>
              </div>
            </div>
            
            <!-- Sistema de Retorno -->
            <div class="text-center me-3 col-2" [title]="item.porcentagem.percentRessucitou.toFixed(2) + '%'">
              <div>{{item.ressucitou}}</div>
              <div class="progress progress-retorno">
                <div class="progress-bar progress-bar-retorno" [ngStyle]="{ width: item.porcentagem.percentRessucitou + '%' }"></div>
              </div>
            </div>
          </div>
        </div>
        <!-- Fim da linha -->
      </div>
    </div>
    <div class="d-flex ml-auto">
      <button class="btn btn-primary ml-1" *ngIf="this.currentView ==='visualizar'" (click)="alterarEstatistica()">
        <span *ngIf="isLoading" class="spinner-border spinner-border-sm mr-1"></span>
        Editar Estatisticas
      </button>
    </div>
</div>
